{{ define "main" }}
<div class="page-header section">
  <div class="container text-center">
    <h1>{{ .Title }}</h1>
    {{ with .Description }}<p class="lead">{{ . }}</p>{{ end }}
  </div>
</div>

<section class="section events-list">
  <div class="container">
    <div class="events-grid">
      {{ range .Pages.ByDate.Reverse }}
      <div class="event-card">
        <div class="event-banner">
          {{ if .Params.banner }}
          <img src="{{ .Params.banner | relURL }}" alt="{{ .Title }} Banner">
          {{ else }}
          <div class="event-image-placeholder">
            <span>{{ .Title }}</span>
          </div>
          {{ end }}
        </div>
        <div class="event-content">
          <div class="event-header">
            <span class="meta">{{ .Date.Format "January 2, 2006" }}</span>
            <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
          </div>
          
          <p class="summary">{{ .Description }}</p>

          {{ with .Params.agenda }}
          <div class="event-agenda">
            <h3>Agenda</h3>
            <ul>
              {{ range . }}
              <li>{{ . }}</li>
              {{ end }}
            </ul>
          </div>
          {{ end }}

          <div class="event-footer">
            {{ with .Params.photos_url }}
            <a href="{{ . }}" class="button photos-button" target="_blank" rel="noopener">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
                <circle cx="12" cy="13" r="4"></circle>
              </svg>
              View Photo Album
            </a>
            {{ end }}
            <a href="{{ .RelPermalink }}" class="icon-link">Read More â†’</a>
          </div>
        </div>
      </div>
      {{ else }}
      <p class="text-center">No events found.</p>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}
